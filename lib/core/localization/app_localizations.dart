import 'package:flutter/material.dart';

// Very Simple Localization Wrapper
class AppLocalizations {
  final Locale locale;

  AppLocalizations(this.locale);

  static AppLocalizations? of(BuildContext context) {
    return Localizations.of<AppLocalizations>(context, AppLocalizations);
  }

  static const delegate = AppLocalizationsDelegate();

  static const _localizedValues = <String, Map<String, String>>{
    'fr': {
      'title': 'OrderMate',
      'dashboard': 'Tableau de bord',
      'settings': 'Paramètres',
      'login': 'Connexion',

      // Drawer
      'admin': 'Admin',
      'customers_management': 'Gestion des clients',
      'customer_list': 'Liste des clients',
      'orders': 'Commandes',
      'employee_management': 'Gestion des employés',
      'employees_list': 'Liste des employés',
      'inventory_management': 'Gestion des stocks',
      'products': 'Produits',
      'brands': 'Marques',
      'categories': 'Catégories',
      'product_types': 'Types de produits',
      'setups': 'Configurations',
      'organization_profile': 'Profil organisation',
      'organizations_list': 'Liste organisations',
      'branches_list': 'Liste succursales',
      'suppliers_management': 'Gestion fournisseurs',
      'stock_transfers': 'Transferts de stock',
      'vendors': 'Vendeurs',
      'purchase_orders': 'Commandes d\'achat',
      'other_reports': 'Autre / Rapports',
      'customer_location_update': 'Mise à jour loc. client',
      'ledger': 'Grand livre',
      'version': 'Version',
      'whats_new': 'Quoi de neuf?',
      'close': 'Fermer',
      'cancel': 'Annuler',
      'new_order': 'Nouvelle commande',
      'clear_cache_confirmation':
          'Cela effacera toutes les données locales et les re-téléchargera depuis le serveur. Les modifications non synchronisées peuvent être perdues. Continuer?',

      // Login
      'sign_in': 'Se connecter',
      'welcome_back': 'Bon retour! Veuillez entrer vos détails.',
      'email': 'Email',
      'password': 'Mot de passe',
      'forgot_password': 'Mot de passe oublié?',
      'login_with_biometrics': 'Connexion biométrique',
      'tap_to_authenticate': 'Appuyez pour authentifier',
      'workspace_configuration': 'Configuration de l\'espace de travail',
      'organization': 'Organisation',
      'store_branch': 'Magasin / Succursale',
      'financial_year': 'Année financière',
      'continue_to_dashboard': 'Continuer vers le tableau de bord',

      // Settings
      'appearance': 'Apparence',
      'theme_mode': 'Mode Thème',
      'system_default': 'Défaut système',
      'light_mode': 'Mode clair',
      'dark_mode': 'Mode sombre',
      'font_size': 'Taille police',
      'small': 'Petit',
      'normal': 'Normal',
      'large': 'Grand',
      'font_family': 'Famille de polices',
      'theme_skin': 'Thème de couleur',
      'skin_classic': 'Classique',
      'skin_crimson': 'Cramoisi',
      'skin_emerald': 'Émeraude',
      'skin_sunset': 'Coucher de soleil',
      'skin_royal': 'Royal',
      'skin_midnight': 'Minuit',
      'skin_ledger': 'Grand Livre',
      'skin_audit': 'Audit Minuit',
      'skin_mint': 'Croissance Menthe',
      'skin_glass': 'Inventaire Verre',
      'skin_slate': 'Ardoise Industrielle',
      'preferences': 'Préférences',
      'language': 'Langue',
      'landing_page': 'Page d\'accueil',
      'push_notifications': 'Notifications push',
      'account': 'Compte',
      'profile': 'Profil',
      'biometric_login': 'Connexion biométrique',
      'biometric_subtitle': 'FaceID / TouchID',
      'data_sync': 'Données & Sync',
      'manual_sync': 'Sync manuelle',
      'manual_sync_subtitle': 'Force sync avec serveur',
      'clear_cache': 'Vider cache local',
      'clear_cache_subtitle': 'Dépannage uniquement',
      'system': 'Système',
      'printer_config': 'Config imprimante',
      'about_app': 'À propos',
      'logout': 'Déconnexion',
      'pdf_settings': 'Paramètres PDF',
      'pdf_settings_subtitle': 'Configurer contenu et mise en page',
      'customers': 'Clients',
      'suppliers': 'Fournisseurs',
      'sales_orders_booked': 'Commandes Réservées',
      'sales_orders_approved': 'Commandes Approuvées',
      'sales_orders_pending': 'Commandes En Attente',
      'sales_orders_rejected': 'Commandes Rejetées',
      'recent_changes': 'Changements récents',
      'day_summary': 'Résumé de la journée',
      'sales_manager': 'Directeur des ventes',
      'no_account': 'Vous n\'avez pas de compte ?',
      'sign_up': 'S\'inscrire',
    },
    'es': {
      'title': 'OrderMate',
      'dashboard': 'Tablero',
      'settings': 'Ajustes',
      'login': 'Iniciar Sesión',

      // Drawer
      'admin': 'Admin',
      'customers_management': 'Gestión de Clientes',
      'customer_list': 'Lista de Clientes',
      'orders': 'Pedidos',
      'employee_management': 'Gestión de Empleados',
      'employees_list': 'Lista de Empleados',
      'inventory_management': 'Inventario',
      'products': 'Productos',
      'brands': 'Marcas',
      'categories': 'Categorías',
      'product_types': 'Tipos de Producto',
      'setups': 'Configuraciones',
      'organization_profile': 'Perfil Organización',
      'organizations_list': 'Lista Organizaciones',
      'branches_list': 'Lista Sucursales',
      'suppliers_management': 'Gestión Proveedores',
      'stock_transfers': 'Transferencias de stock',
      'vendors': 'Vendedores',
      'purchase_orders': 'Órdenes de Compra',
      'other_reports': 'Otro / Reportes',
      'customer_location_update': 'Act. Ubicación Cliente',
      'ledger': 'Libro Mayor',
      'version': 'Versión',
      'whats_new': '¿Qué hay de nuevo?',
      'close': 'Cerrar',
      'cancel': 'Cancelar',
      'new_order': 'Nuevo Pedido',
      'clear_cache_confirmation':
          'Esto eliminará todos los datos locales y los volverá a obtener del servidor. Los cambios no sincronizados pueden perderse. ¿Continuar?',

      // Login
      'sign_in': 'Iniciar Sesión',
      'welcome_back': '¡Bienvenido de nuevo! Por favor, introduzca sus datos.',
      'email': 'Correo electrónico',
      'password': 'Contraseña',
      'forgot_password': '¿Olvidó su contraseña?',
      'login_with_biometrics': 'Iniciar sesión con biometría',
      'tap_to_authenticate': 'Toque para autenticar',
      'workspace_configuration': 'Configuración del espacio de trabajo',
      'organization': 'Organización',
      'store_branch': 'Tienda / Rama',
      'financial_year': 'Año financiero',
      'continue_to_dashboard': 'Continuar al tablero',

      // Settings
      'appearance': 'Apariencia',
      'theme_mode': 'Modo Tema',
      'system_default': 'Predet. Sistema',
      'light_mode': 'Modo Claro',
      'dark_mode': 'Modo Oscuro',
      'font_size': 'Tamaño Fuente',
      'small': 'Pequeño',
      'normal': 'Normal',
      'large': 'Grande',
      'font_family': 'Familia de fuentes',
      'theme_skin': 'Tema de color',
      'skin_classic': 'Clásico',
      'skin_crimson': 'Carmesí',
      'skin_emerald': 'Esmeralda',
      'skin_sunset': 'Atardecer',
      'skin_royal': 'Real',
      'skin_midnight': 'Medianoche',
      'skin_ledger': 'Libro Mayor',
      'skin_audit': 'Auditoría Medianoche',
      'skin_mint': 'Crecimiento Menta',
      'skin_glass': 'Inventario Cristal',
      'skin_slate': 'Pizarra Industrial',
      'preferences': 'Preferencias',
      'language': 'Idioma',
      'landing_page': 'Página Inicio',
      'push_notifications': 'Notificaciones Push',
      'account': 'Cuenta',
      'profile': 'Perfil',
      'biometric_login': 'Inicio Biométrico',
      'biometric_subtitle': 'FaceID / TouchID',
      'data_sync': 'Datos y Sync',
      'manual_sync': 'Sinc. Manual',
      'manual_sync_subtitle': 'Forzar sync con servidor',
      'clear_cache': 'Borrar Caché Local',
      'clear_cache_subtitle': 'Solo solución problemas',
      'system': 'Sistema',
      'printer_config': 'Config. Impresora',
      'about_app': 'Sobre la App',
      'logout': 'Cerrar Sesión',
      'pdf_settings': 'Configuración de PDF',
      'pdf_settings_subtitle': 'Configurar contenido y diseño',
      'customers': 'Clientes',
      'suppliers': 'Proveedores',
      'sales_orders_booked': 'Pedidos Reservados',
      'sales_orders_approved': 'Pedidos Aprobados',
      'sales_orders_pending': 'Pedidos Pendientes',
      'sales_orders_rejected': 'Pedidos Rechazados',
      'recent_changes': 'Cambios recientes',
      'day_summary': 'Resumen del día',
      'sales_manager': 'Gerente de ventas',
      'no_account': '¿No tienes una cuenta?',
      'sign_up': 'Regístrate',
    },
    'en': {
      'title': 'OrderMate',
      'dashboard': 'Dashboard',
      'settings': 'Settings',
      'login': 'Login',

      // Drawer
      'admin': 'Admin',
      'customers_management': 'Customers Management',
      'customer_list': 'Customer List',
      'orders': 'Orders',
      'employee_management': 'Employee Management',
      'employees_list': 'Employees List',
      'inventory_management': 'Inventory Management',
      'products': 'Products',
      'brands': 'Brands',
      'categories': 'Categories',
      'product_types': 'Product Types',
      'setups': 'Setups',
      'organization_profile': 'Organization Profile',
      'organizations_list': 'Organizations List',
      'branches_list': 'Branches List',
      'suppliers_management': 'Suppliers Management',
      'stock_transfers': 'Stock Transfers',
      'vendors': 'Vendors',
      'purchase_orders': 'Purchase Orders',
      'other_reports': 'Other / Reports',
      'customer_location_update': 'Customer Location Update',
      'ledger': 'Ledger',
      'version': 'Version',
      'whats_new': 'What\'s New?',
      'close': 'Close',
      'cancel': 'Cancel',
      'new_order': 'New Order',
      'clear_cache_confirmation':
          'This will delete all local data and re-fetch it from the server. Unsynced changes might be lost if not forced synced first. Continue?',

      // Login
      'sign_in': 'Sign In',
      'welcome_back': 'Welcome back! Please enter your details.',
      'email': 'Email',
      'password': 'Password',
      'forgot_password': 'Forgot Password?',
      'login_with_biometrics': 'Login with Biometrics',
      'tap_to_authenticate': 'Tap to Authenticate',
      'select_workspace': 'Select Workspace',
      'workspace_configuration': 'Workspace Configuration',
      'organization': 'Organization',
      'store_branch': 'Store / Branch',
      'financial_year': 'Financial Year',
      'continue_to_dashboard': 'Continue to Dashboard',

      // Settings
      'appearance': 'Appearance',
      'theme_mode': 'Theme Mode',
      'system_default': 'System Default',
      'light_mode': 'Light Mode',
      'dark_mode': 'Dark Mode',
      'font_size': 'Font Size',
      'small': 'Small',
      'normal': 'Normal',
      'large': 'Large',
      'font_family': 'Font Family',
      'theme_skin': 'Theme Skin',
      'skin_classic': 'Classic (Blue)',
      'skin_crimson': 'Crimson (Red)',
      'skin_emerald': 'Emerald (Green)',
      'skin_sunset': 'Sunset (Orange)',
      'skin_royal': 'Royal (Purple)',
      'skin_midnight': 'Midnight (Dark)',
      'skin_ledger': 'Professional Ledger',
      'skin_audit': 'Midnight Audit',
      'skin_mint': 'Mint Growth',
      'skin_glass': 'Glass Inventory',
      'skin_slate': 'Industrial Slate',
      'preferences': 'Preferences',
      'language': 'Language',
      'landing_page': 'Landing Page',
      'push_notifications': 'Push Notifications',
      'account': 'Account',
      'profile': 'Profile',
      'biometric_login': 'Biometric Login',
      'biometric_subtitle': 'FaceID / TouchID',
      'data_sync': 'Data & Sync',
      'manual_sync': 'Manual Sync',
      'manual_sync_subtitle': 'Force sync data with server',
      'clear_cache': 'Clear Local Cache',
      'clear_cache_subtitle': 'Troubleshooting only',
      'system': 'System',
      'printer_config': 'Printer Configuration',
      'about_app': 'About App',
      'logout': 'Logout',
      'pdf_settings': 'Print PDF Settings',
      'pdf_settings_subtitle': 'Configure content & layout',
      'customers': 'Customers',
      'suppliers': 'Suppliers',
      'sales_orders_booked': 'Sales Orders Booked',
      'sales_orders_approved': 'Sales Orders Approved',
      'sales_orders_pending': 'Sales Orders Pending',
      'sales_orders_rejected': 'Sales Orders Rejected',
      'recent_changes': 'Recent Changes',
      'day_summary': 'Day Summary',
      'sales_manager': 'Sales Manager',
      'no_account': "Don't have an account?",
      'sign_up': 'Sign Up',
    },
  };

  String get(String key) {
    // Basic fallback to English if key/lang missing
    return _localizedValues[locale.languageCode]?[key] ??
        _localizedValues['en']?[key] ??
        key;
  }
}

class AppLocalizationsDelegate extends LocalizationsDelegate<AppLocalizations> {
  const AppLocalizationsDelegate();

  @override
  bool isSupported(Locale locale) =>
      ['en', 'es', 'fr'].contains(locale.languageCode);

  @override
  Future<AppLocalizations> load(Locale locale) async {
    return AppLocalizations(locale);
  }

  @override
  bool shouldReload(AppLocalizationsDelegate old) => false;
}
